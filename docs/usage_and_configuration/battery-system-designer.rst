.. include:: ./../macros.txt

.. _BATTERY_SYSTEM_DESIGNER:

#######################
Battery System Designer
#######################

The system designer is called by the subcommand ``design``.

.. program-output:: python -m basd design --help
   :cwd: ../../src


Requirements
############

The requirements input is already described in the introduction
(see :ref:`INTRO_REQUIREMENTS`).

Overhead Estimation
###################

The overhead that is generated by creating a **battery system** from bare
batteries (i.e., by adding mounting frames, battery junction box etc.) is
calculated by the overhead functionality.

The |basd-tool| provides a basic implement for the overhead that is generated
on

- cell block (e.g., electrical connection to parallelize cells),
- module (e.g., electrical connection to put cell blocks in series and create a
  mechanical housing for the cell blocks/cells),
- string (e.g., electrical connection to put multiple modules in series, create a
  mechanical housing, and include a fuse for each particular string), and
- pack (e.g., electrical connection to parallelize strings, create a housing
  for the strings, add contactors and a main fuse, the BMS etc.)

level.

The overhead can be adapted to the specific IP/knowhow of the specific designer
of the battery system by providing a custom overhead plugin.
The implementation of such a plugin is explained in
:ref:`OVERHEAD_COMPUTATION`.

Report File
###########

The command ``python -m basd design [OPTIONS]`` creates two report files
in the current working directory. One report file is saved in ``json`` format
and the other one is saved in ``csv`` format. Both files contains entries/columns
which can be grouped in

GENERAL
-------

    - **Nr.:** The number of the system design in the ranking
    - **Manufacturer:** The name of manufacturer of the used battery cell
    - **Model:** The model name of the used battery cell
    - **Format:** The cell format of the used battery cell
    - **Cooling type:** The cooling type which is used in the battery system design

ELECTRICAL PROPERTIES
---------------------

    - **Cells in parallel:** The number of cells in the system design connected in parallel
    - **Cells in series:** The number of cells in the system design connected in series
    - **Min. cell voltage (V):** Minimal allowed cell voltage
    - **Max. cell voltage (V):** Maximal allowed cell voltage
    - **Cell capacity (Ah):** Usable cell capacity
    - **Voltage nom. (V):** Nominal system voltage
    - **Energy (Wh):** System energy
    - **Max. module voltage (V):** Maximal module voltage
    - **Min. module voltage (V):** Minimal module voltage
    - **Nom. module voltage (V):** Nominal module voltage
    - **Slave min. workload:** Minimal number of cells monitored by one slave board
    - **Slave max. workload:** Maximal number of cells monitored by one slave board
    - **Number of slaves per modules:** Number of slave boards per module

MECHANICAL PROPERTIES
---------------------

    - **Weight (kg):** Battery system weight
    - **Volume (m^3):** Battery system volume
    - **Length (m):** Battery system length
    - **Width (m):** Battery system width
    - **Height (m):** Battery system height

SYSTEM LAYOUT
-------------

The system layout is defined in :ref:`MECHANICAL_OVERHEAD` and :ref:`OPTIMIZATION_PROBLEM`

    - **Cell orientation:** Orientation with respect to the z-axis with 0° or 90° as considered values
    - **Pack z-dir:** Number of strings stacked in z direction
    - **Pack y-dir:** Number of strings placed in a row in y direction
    - **Pack x-dir:** Number of strings placed in a row in x direction
    - **String z-dir:** Number of modules stacked in z direction
    - **String y-dir:** Number of modules placed in a row in y direction
    - **String x-dir:** Number of modules placed in a row in x direction
    - **Module y-dir:** Number of cell blocks placed in a row in y direction
    - **Module x-dir:** Number of cell blocks placed in a row in x direction
    - **Cell block y-dir:** Number of cells placed in a row in y direction
    - **Cell block x-dir:** Number of cells placed in a row in x direction

OVERHEAD
--------

The overhead factors are introduced in :ref:`MECHANICAL_OVERHEAD`.
Volumetric and gravimetric overhead values are given as absolute values in
m/kg and as relative values to the respective element in %.

    - **Overhead height cell block:** Height overhead of one cell block
    - **Overhead height module:** Height overhead of one module
    - **Overhead height string:** Height overhead of one string
    - **Overhead height pack:** Height overhead of the pack
    - **Overhead length cell block:** Length overhead of one cell block
    - **Overhead length module:** Length overhead of one module
    - **Overhead length string:** Length overhead of one string
    - **Overhead length pack:** Length overhead of the pack
    - **Overhead width cell block:** Width overhead of one cell block
    - **Overhead width module:** Width overhead of one module
    - **Overhead width string:** Width overhead of one string
    - **Overhead width pack:** Width overhead of the pack
    - **Overhead weight cell block:** Weight overhead of one cell block
    - **Overhead weight module:** Weight overhead of one module
    - **Overhead weight string:** Weight overhead of one string
    - **Overhead weight pack:** Weight overhead of of the pack
